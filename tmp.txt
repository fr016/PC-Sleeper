workflow Parallele-Execution {
    $elements = 1..10  # Liste d'éléments à traiter en parallèle

    foreach -parallel ($element in $elements) {
        InlineScript {
            param ($item)
            # Appel de la fonction fictive "Ma-Fonction" avec l'élément actuel
            Ma-Fonction -Item $item
        } -PSParameterCollection @{ item = $element }
    }
}

function Ma-Fonction {
    param (
        [int]$Item
    )

    # Simulez un traitement long
    Start-Sleep -Seconds 2

    Write-Output "Traitement de l'élément $Item terminé"
}

# Appel du workflow de parallélisation
Parallele-Execution

